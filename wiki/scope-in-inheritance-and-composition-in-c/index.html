<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
              crossorigin="anonymous"
        >

        

        <link rel="stylesheet" href="https://njagi.me/style.css">

        <title>Mostly Programming</title>
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="/">Home</a>

                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" href="/posts/">Posts</a></li>
                    <li class="nav-item"><a class="nav-link" href="/notes/">Notes</a></li>
                    <li class="nav-item"><a class="nav-link" href="/wiki/">Wiki</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tags/">Tags</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
                </ul>

            </div> <!-- container -->
        </nav> <!-- end nav -->

        <div class="container">
            <div class="margin-vertical-20">
                

<div class="row">
    <div class="row justify-content-end"> <!-- start post heading -->
        <div class="col-md-10">

            <h1 id="post-title">Scope in inheritance and composition in C++</h1>

            <div id="post-metadata">
                December 08, 2014

                <p>
                    
                    Tags:
                    <span class="tags">
                        
                        <button type="button" class="btn btn-link btn-sm">
                            <a href="https://njagi.me/tags/programming/">Programming</a>
                        </button>
                        
                        <button type="button" class="btn btn-link btn-sm">
                            <a href="https://njagi.me/tags/oop/">OOP</a>
                        </button>
                        
                        <button type="button" class="btn btn-link btn-sm">
                            <a href="https://njagi.me/tags/c/">C++</a>
                        </button>
                        
                    </span>
                    
                </p>

            </div> <!-- page metadata -->
        </div>
    </div> <!-- end post heading -->

    <div class="row justify-content-center">  <!-- start post content -->
        <div class="col-md-8">
            <p>I hope you read my previous post before looking at this one if you don't know much about OOP in C++. The previous post explains various things like naming of stuff in C++ which is different from naming conventions in other languages.</p>
<span id="continue-reading"></span>
<p>This one is about explaining scope in C++ when we have inheritance and non-default constructors as well as compositions.</p>
<p>The piont of this post is to establish:</p>
<ol>
<li>What order are constructors called in case we create an object of a derived class.</li>
<li>What order are destructors called in case we destroy an object of a derived class.</li>
<li>In the case of compositions (objects as data members) which constructors are called first. The one of the composing class or the object?</li>
</ol>
<p>Anyway let's get to it.</p>
<pre data-lang="c++" style="background-color:#002b36;color:#839496;" class="language-c++ "><code class="language-c++" data-lang="c++"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#859900;">using namespace</span><span> std;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">parent </span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>  </span><span style="color:#b58900;">parent</span><span style="color:#657b83;">() {
</span><span>    cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Parent object created.</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> endl;
</span><span>  </span><span style="color:#657b83;">}
</span><span>  </span><span style="color:#b58900;">~parent</span><span style="color:#657b83;">() {
</span><span>    cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Parent object destoyed.</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> endl;
</span><span>  </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">child</span><span>: </span><span style="color:#859900;">public </span><span style="color:#268bd2;">parent </span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>  </span><span style="color:#b58900;">child</span><span style="color:#657b83;">() {
</span><span>    cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Child object created.</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> endl;
</span><span>  </span><span style="color:#657b83;">}
</span><span>  </span><span style="color:#b58900;">~child</span><span style="color:#657b83;">() {
</span><span>    cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Child object destoyed.</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> endl;
</span><span>  </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">composition </span><span style="color:#657b83;">{
</span><span>child</span><span style="color:#859900;">*</span><span> childObj;
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>  </span><span style="color:#b58900;">composition</span><span style="color:#657b83;">() {
</span><span>    cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Composing object created</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> endl;
</span><span>    childObj </span><span style="color:#657b83;">= </span><span style="color:#859900;">new</span><span> child;
</span><span>  </span><span style="color:#657b83;">}
</span><span>
</span><span>  </span><span style="color:#b58900;">~composition</span><span style="color:#657b83;">() {
</span><span>    </span><span style="color:#859900;">delete</span><span> childObj;
</span><span>    cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Composed oject destroyed.</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> endl;
</span><span>  </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main </span><span style="color:#657b83;">() {
</span><span>  composition compObject;
</span><span>  </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>Output:</p>
<pre style="background-color:#002b36;color:#839496;"><code><span>Composing object created
</span><span>Parent object created.
</span><span>Child object created.
</span><span>Child object destoyed.
</span><span>Parent object destoyed.
</span><span>Composed oject destroyed.
</span></code></pre>
<p>So what do we see here:</p>
<ol>
<li>The composed object is created before the objects in it.</li>
<li>The parent class is created before the child class.</li>
<li>They are then destroyed in reverse order of their creation. Child then parent then composing.</li>
</ol>
<p>It's really that simple.</p>
<p>Hail Stallman and may the FOSS be with you.</p>

        </div>
    </div>  <!-- end post content -->

</div> <!--  -->



            </div>
        </div>
    </body>
</html>
