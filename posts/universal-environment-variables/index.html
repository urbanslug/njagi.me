<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
              crossorigin="anonymous"
        >

        

        <link rel="stylesheet" href="https://njagi.me/style.css">

        <title>Mostly Programming</title>
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="/">Home</a>

                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" href="/posts/">Posts</a></li>
                    <li class="nav-item"><a class="nav-link" href="/notes/">Notes</a></li>
                    <li class="nav-item"><a class="nav-link" href="/wiki/">Wiki</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tags/">Tags</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
                </ul>

            </div> <!-- container -->
        </nav> <!-- end nav -->

        <div class="container">
            <div class="margin-vertical-20">
                

<div class="row">
    <div class="row justify-content-end"> <!-- start post heading -->
        <div class="col-md-10">

            <h1 id="post-title">Using Emacs with Universal Environment Variables</h1>

            <div id="post-metadata">
                April 02, 2015

                <p>
                    
                    Tags:
                    <span class="tags">
                        
                        <button type="button" class="btn btn-link btn-sm">
                            <a href="https://njagi.me/tags/emacs/">Emacs</a>
                        </button>
                        
                        <button type="button" class="btn btn-link btn-sm">
                            <a href="https://njagi.me/tags/shell/">Shell</a>
                        </button>
                        
                    </span>
                    
                </p>

            </div> <!-- page metadata -->
        </div>
    </div> <!-- end post heading -->

    <div class="row justify-content-center">  <!-- start post content -->
        <div class="col-md-8">
            <p>We want to have environment variables that are accessible from within emacs and our shell as well as other REPLs (cabal repl or ghci if you're writing haskell).</p>
<span id="continue-reading"></span>
<p>Why would we want to use environment variables? It depends really, mainly if we want to pass info to our app/code and we can't put that in config files plus we are clever enough not to hardcode such things.</p>
<p>I run emacs from withing Xorg like most people do. The problem with this is that it couldn't read the environment variables set in my <code>~/.bashrc</code>, <code>~/.zshrc</code> et cetera. So I needed to find a way to set these variables in a place where they could be accessible from other &quot;places&quot; and not just emacs. Something more <em>universal</em>.</p>
<p>There is a solution that involves setting environment variables that will be used <strong>WITHIN</strong> emacs in the ~/.emacs file but that isn't what I wanted. In case you want to read on it here's the <a href="http://ergoemacs.org/emacs/emacs_env_var_paths.html">environment variables within link.</a></p>
<h2 id="the-solution">The solution</h2>
<p>Short version: Add the environment variables to your <code>~/.profile</code> or <code>/etc/profile</code></p>
<p>Long version: Lo and behold this file <code>~/.profile</code> or <code>/etc/profile</code>.<br />
You can set your environment variables there that will be loaded before X starts and that will be loaded even when you log in via SSH. You can then access these variables accross everything that runs in the terminal, from within xorg and so forth.</p>
<p>So the basic workflow is:</p>
<pre data-lang="text" style="background-color:#002b36;color:#839496;" class="language-text "><code class="language-text" data-lang="text"><span>open or create ~/.profile or /etc/profile depending on your purpose
</span><span>add your environment variables.
</span><span>Save the file.
</span></code></pre>
<p>I recommend that look at this <a href="http://stackoverflow.com/questions/11005478/how-to-access-a-bash-environment-variable-from-within-r-in-emacs-ess">stack overflow question</a> which is where I drew my answer.</p>

        </div>
    </div>  <!-- end post content -->

</div> <!--  -->



            </div>
        </div>
    </body>
</html>
